llvm扁平化混淆。是一种常见混淆手段。原理是将利用~while switch~分支，加入一下混淆分支，也将之前的代码打散到不同的分支。
来起到混淆的作用。


今天，我们借着[[deflat][https://github.com/SnowGirls/deflat]]来研究一下，利用代码去去llvm扁平化混淆的原理与步骤。

查看deflat配套[[文章][https://security.tencent.com/index.php/blog/msg/112]]可以看到。他预发现并定义了以下不同的块，
并运用了以下规律：

1. 函数的开始地址为序言的地址
2. 序言的后继为主分发器
3. 后继为主分发器的块为预处理器
4. 后继为预处理器的块为真实块
5. 无后继的块为retn块
6. 剩下的为无用块


这里主要的特点是：
4. 后继为预处理器的块为真实块

我也不知道为什么可以这样去判断。



~这里用angr的inspect在遇到类型为ITE的IR表达式时，改变临时变量的值来实现~ 是什么意思？？